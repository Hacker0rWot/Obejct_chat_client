{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\BE MAJOR PROJECT Krutik\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// App.js\nimport React, { useEffect, useRef, useState } from \"react\";\nimport io from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SOCKET_SERVER = \"http://localhost:5000\";\nconst USERNAME = \"user\" + Math.floor(Math.random() * 1000);\n\n// paste printed AES key here!\nconst DETECTION_KEY_B64 = \"paste_base64_key_here\";\n\n// === CRYPTO HELPERS ===\nasync function importAesKeyFromB64(b64) {\n  const raw = Uint8Array.from(atob(b64), c => c.charCodeAt(0));\n  return crypto.subtle.importKey(\"raw\", raw, \"AES-GCM\", false, [\"decrypt\"]);\n}\nasync function decryptJSON(key, ivB64, ciphertextB64) {\n  try {\n    const iv = Uint8Array.from(atob(ivB64), c => c.charCodeAt(0));\n    const ct = Uint8Array.from(atob(ciphertextB64), c => c.charCodeAt(0));\n    const buf = await crypto.subtle.decrypt({\n      name: \"AES-GCM\",\n      iv\n    }, key, ct);\n    return JSON.parse(new TextDecoder().decode(buf)).detections || [];\n  } catch (e) {\n    console.error(\"decrypt fail\", e);\n    return [];\n  }\n}\nfunction App() {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [socket, setSocket] = useState(null);\n  const [aesKey, setAesKey] = useState(null);\n  const [detections, setDetections] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [chatInput, setChatInput] = useState(\"\");\n  const [messages, setMessages] = useState({});\n\n  // setup socket\n  useEffect(() => {\n    const s = io(SOCKET_SERVER);\n    s.on(\"connect\", () => {\n      console.log(\"Connected to server\", s.id);\n      s.emit(\"register\", {\n        username: USERNAME\n      });\n    });\n    s.on(\"detection_broadcast_enc\", async ({\n      ciphertext,\n      iv\n    }) => {\n      if (!aesKey) return;\n      const dets = await decryptJSON(aesKey, iv, ciphertext);\n      setDetections(dets);\n    });\n    s.on(\"message\", msg => {\n      setMessages(prev => {\n        const mlist = prev[msg.object_id] || [];\n        return {\n          ...prev,\n          [msg.object_id]: [...mlist, msg]\n        };\n      });\n    });\n    setSocket(s);\n    importAesKeyFromB64(DETECTION_KEY_B64).then(setAesKey);\n    return () => s.disconnect();\n  }, [aesKey]);\n\n  // camera stream\n  useEffect(() => {\n    (async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: true\n        });\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n        }\n      } catch (err) {\n        console.error(\"camera error\", err);\n      }\n    })();\n  }, []);\n\n  // draw overlay\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const video = videoRef.current;\n    if (!canvas || !video) return;\n    const ctx = canvas.getContext(\"2d\");\n    const render = () => {\n      if (!video.videoWidth) {\n        requestAnimationFrame(render);\n        return;\n      }\n      const w = video.videoWidth,\n        h = video.videoHeight;\n      canvas.width = w;\n      canvas.height = h;\n      ctx.clearRect(0, 0, w, h);\n      const srcW = 640,\n        srcH = 640;\n      const sx = w / srcW,\n        sy = h / srcH;\n      detections.forEach(det => {\n        const [x, y, bw, bh] = det.bbox;\n        const left = x * sx,\n          top = y * sy,\n          ww = bw * sx,\n          hh = bh * sy;\n        ctx.strokeStyle = selected === det.id ? \"red\" : \"lime\";\n        ctx.lineWidth = 2;\n        ctx.strokeRect(left, top, ww, hh);\n        ctx.fillStyle = \"yellow\";\n        ctx.font = \"16px Arial\";\n        ctx.fillText(det.class, left + 4, top - 4);\n\n        // draw chat messages ABOVE box\n        const mlist = messages[det.id] || [];\n        const lastMsgs = mlist.slice(-2);\n        lastMsgs.forEach((m, idx) => {\n          const by = top - 20 - idx * 20;\n          ctx.fillStyle = \"rgba(0,0,0,0.6)\";\n          ctx.fillRect(left, by - 16, ww, 18);\n          ctx.fillStyle = \"white\";\n          ctx.fillText(m.sender + \": \" + m.text, left + 4, by - 2);\n        });\n      });\n      requestAnimationFrame(render);\n    };\n    render();\n  }, [detections, selected, messages]);\n\n  // select object by click\n  const handleClick = e => {\n    const rect = canvasRef.current.getBoundingClientRect();\n    const x = e.clientX - rect.left,\n      y = e.clientY - rect.top;\n    const video = videoRef.current;\n    if (!video) return;\n    const w = video.videoWidth,\n      h = video.videoHeight;\n    const sx = w / 640,\n      sy = h / 640;\n    for (const det of detections) {\n      const [dx, dy, dw, dh] = det.bbox;\n      const left = dx * sx,\n        top = dy * sy,\n        ww = dw * sx,\n        hh = dh * sy;\n      if (x >= left && x <= left + ww && y >= top && y <= top + hh) {\n        setSelected(det.id);\n        return;\n      }\n    }\n    setSelected(null);\n  };\n\n  // send message\n  const sendChat = () => {\n    if (!socket || !selected || !chatInput) return;\n    const msg = {\n      sender: USERNAME,\n      receiver: USERNAME,\n      object_id: selected,\n      text: chatInput,\n      ts: Date.now()\n    };\n    socket.emit(\"message\", msg);\n    setChatInput(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"AI Video Chat (\", USERNAME, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"relative\",\n        display: \"inline-block\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        autoPlay: true,\n        playsInline: true,\n        onClick: handleClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        style: {\n          position: \"absolute\",\n          left: 0,\n          top: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: chatInput,\n        onChange: e => setChatInput(e.target.value),\n        placeholder: selected ? `Message to object ${selected}` : \"Select object first\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendChat,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"mYvWXOtXfIsONQ2aUDbMjX5ti2w=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","io","jsxDEV","_jsxDEV","SOCKET_SERVER","USERNAME","Math","floor","random","DETECTION_KEY_B64","importAesKeyFromB64","b64","raw","Uint8Array","from","atob","c","charCodeAt","crypto","subtle","importKey","decryptJSON","key","ivB64","ciphertextB64","iv","ct","buf","decrypt","name","JSON","parse","TextDecoder","decode","detections","e","console","error","App","_s","videoRef","canvasRef","socket","setSocket","aesKey","setAesKey","setDetections","selected","setSelected","chatInput","setChatInput","messages","setMessages","s","on","log","id","emit","username","ciphertext","dets","msg","prev","mlist","object_id","then","disconnect","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","err","canvas","ctx","getContext","render","videoWidth","requestAnimationFrame","w","h","videoHeight","width","height","clearRect","srcW","srcH","sx","sy","forEach","det","x","y","bw","bh","bbox","left","top","ww","hh","strokeStyle","lineWidth","strokeRect","fillStyle","font","fillText","class","lastMsgs","slice","m","idx","by","fillRect","sender","text","handleClick","rect","getBoundingClientRect","clientX","clientY","dx","dy","dw","dh","sendChat","receiver","ts","Date","now","children","fileName","_jsxFileName","lineNumber","columnNumber","style","position","display","ref","autoPlay","playsInline","onClick","value","onChange","target","placeholder","_c","$RefreshReg$"],"sources":["D:/projects/BE MAJOR PROJECT Krutik/client/src/App.js"],"sourcesContent":["// App.js\nimport React, { useEffect, useRef, useState } from \"react\";\nimport io from \"socket.io-client\";\n\nconst SOCKET_SERVER = \"http://localhost:5000\";\nconst USERNAME = \"user\" + Math.floor(Math.random() * 1000);\n\n// paste printed AES key here!\nconst DETECTION_KEY_B64 = \"paste_base64_key_here\";\n\n// === CRYPTO HELPERS ===\nasync function importAesKeyFromB64(b64) {\n  const raw = Uint8Array.from(atob(b64), c => c.charCodeAt(0));\n  return crypto.subtle.importKey(\"raw\", raw, \"AES-GCM\", false, [\"decrypt\"]);\n}\nasync function decryptJSON(key, ivB64, ciphertextB64) {\n  try {\n    const iv = Uint8Array.from(atob(ivB64), c => c.charCodeAt(0));\n    const ct = Uint8Array.from(atob(ciphertextB64), c => c.charCodeAt(0));\n    const buf = await crypto.subtle.decrypt({ name: \"AES-GCM\", iv }, key, ct);\n    return JSON.parse(new TextDecoder().decode(buf)).detections || [];\n  } catch (e) {\n    console.error(\"decrypt fail\", e);\n    return [];\n  }\n}\n\nfunction App() {\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [socket, setSocket] = useState(null);\n  const [aesKey, setAesKey] = useState(null);\n  const [detections, setDetections] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [chatInput, setChatInput] = useState(\"\");\n  const [messages, setMessages] = useState({});\n\n  // setup socket\n  useEffect(() => {\n    const s = io(SOCKET_SERVER);\n    s.on(\"connect\", () => {\n      console.log(\"Connected to server\", s.id);\n      s.emit(\"register\", { username: USERNAME });\n    });\n    s.on(\"detection_broadcast_enc\", async ({ ciphertext, iv }) => {\n      if (!aesKey) return;\n      const dets = await decryptJSON(aesKey, iv, ciphertext);\n      setDetections(dets);\n    });\n    s.on(\"message\", (msg) => {\n      setMessages((prev) => {\n        const mlist = prev[msg.object_id] || [];\n        return { ...prev, [msg.object_id]: [...mlist, msg] };\n      });\n    });\n    setSocket(s);\n\n    importAesKeyFromB64(DETECTION_KEY_B64).then(setAesKey);\n\n    return () => s.disconnect();\n  }, [aesKey]);\n\n  // camera stream\n  useEffect(() => {\n    (async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n        }\n      } catch (err) {\n        console.error(\"camera error\", err);\n      }\n    })();\n  }, []);\n\n  // draw overlay\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const video = videoRef.current;\n    if (!canvas || !video) return;\n    const ctx = canvas.getContext(\"2d\");\n\n    const render = () => {\n      if (!video.videoWidth) {\n        requestAnimationFrame(render);\n        return;\n      }\n      const w = video.videoWidth, h = video.videoHeight;\n      canvas.width = w;\n      canvas.height = h;\n      ctx.clearRect(0, 0, w, h);\n\n      const srcW = 640, srcH = 640;\n      const sx = w / srcW, sy = h / srcH;\n\n      detections.forEach(det => {\n        const [x, y, bw, bh] = det.bbox;\n        const left = x * sx, top = y * sy, ww = bw * sx, hh = bh * sy;\n\n        ctx.strokeStyle = selected === det.id ? \"red\" : \"lime\";\n        ctx.lineWidth = 2;\n        ctx.strokeRect(left, top, ww, hh);\n\n        ctx.fillStyle = \"yellow\";\n        ctx.font = \"16px Arial\";\n        ctx.fillText(det.class, left + 4, top - 4);\n\n        // draw chat messages ABOVE box\n        const mlist = messages[det.id] || [];\n        const lastMsgs = mlist.slice(-2);\n        lastMsgs.forEach((m, idx) => {\n          const by = top - 20 - idx * 20;\n          ctx.fillStyle = \"rgba(0,0,0,0.6)\";\n          ctx.fillRect(left, by - 16, ww, 18);\n          ctx.fillStyle = \"white\";\n          ctx.fillText(m.sender + \": \" + m.text, left + 4, by - 2);\n        });\n      });\n\n      requestAnimationFrame(render);\n    };\n    render();\n  }, [detections, selected, messages]);\n\n  // select object by click\n  const handleClick = (e) => {\n    const rect = canvasRef.current.getBoundingClientRect();\n    const x = e.clientX - rect.left, y = e.clientY - rect.top;\n\n    const video = videoRef.current;\n    if (!video) return;\n    const w = video.videoWidth, h = video.videoHeight;\n\n    const sx = w / 640, sy = h / 640;\n\n    for (const det of detections) {\n      const [dx, dy, dw, dh] = det.bbox;\n      const left = dx * sx, top = dy * sy, ww = dw * sx, hh = dh * sy;\n      if (x >= left && x <= left + ww && y >= top && y <= top + hh) {\n        setSelected(det.id);\n        return;\n      }\n    }\n    setSelected(null);\n  };\n\n  // send message\n  const sendChat = () => {\n    if (!socket || !selected || !chatInput) return;\n    const msg = {\n      sender: USERNAME,\n      receiver: USERNAME,\n      object_id: selected,\n      text: chatInput,\n      ts: Date.now()\n    };\n    socket.emit(\"message\", msg);\n    setChatInput(\"\");\n  };\n\n  return (\n    <div>\n      <h3>AI Video Chat ({USERNAME})</h3>\n      <div style={{ position: \"relative\", display: \"inline-block\" }}>\n        <video ref={videoRef} autoPlay playsInline onClick={handleClick} />\n        <canvas ref={canvasRef} style={{ position: \"absolute\", left: 0, top: 0 }} />\n      </div>\n      <div>\n        <input\n          value={chatInput}\n          onChange={(e) => setChatInput(e.target.value)}\n          placeholder={selected ? `Message to object ${selected}` : \"Select object first\"}\n        />\n        <button onClick={sendChat}>Send</button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}