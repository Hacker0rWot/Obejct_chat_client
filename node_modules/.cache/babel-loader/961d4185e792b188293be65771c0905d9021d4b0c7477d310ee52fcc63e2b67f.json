{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\BE MAJOR PROJECT Krutik\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [detections, setDetections] = useState([]);\n  useEffect(() => {\n    // Start webcam\n    navigator.mediaDevices.getUserMedia({\n      video: true\n    }).then(stream => {\n      videoRef.current.srcObject = stream;\n    });\n    const interval = setInterval(async () => {\n      if (!videoRef.current || !canvasRef.current) return;\n      const ctx = canvasRef.current.getContext(\"2d\");\n      ctx.drawImage(videoRef.current, 0, 0, 640, 480);\n      canvasRef.current.toBlob(async blob => {\n        if (!blob) return;\n        console.log(\"Sending frame size:\", blob.size); // debug\n\n        const formData = new FormData();\n        formData.append(\"file\", blob, \"frame.jpg\");\n        try {\n          const res = await fetch(\"http://localhost:7001/detect\", {\n            method: \"POST\",\n            body: formData\n          });\n          const data = await res.json();\n          setDetections(data.detections || []);\n        } catch (err) {\n          console.error(\"Error sending frame:\", err);\n        }\n      }, \"image/jpeg\", 0.7);\n    }, 500); // every 500ms\n\n    return () => clearInterval(interval);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-xl font-bold mb-2\",\n      children: \"\\uD83D\\uDCE1 Real-Time Object Detection\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      autoPlay: true,\n      playsInline: true,\n      width: \"640\",\n      height: \"480\",\n      className: \"border rounded mb-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: \"640\",\n      height: \"480\",\n      style: {\n        display: \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: detections.length > 0 ? detections.map((det, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-2 border rounded mb-2 bg-gray-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: det.class\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this), \" (conf:\", \" \", det.conf.toFixed(2), \")\"]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No objects detected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"rCTihGzhhEcVrRQsuY8QPsP1rlw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","App","_s","videoRef","canvasRef","detections","setDetections","navigator","mediaDevices","getUserMedia","video","then","stream","current","srcObject","interval","setInterval","ctx","getContext","drawImage","toBlob","blob","console","log","size","formData","FormData","append","res","fetch","method","body","data","json","err","error","clearInterval","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","playsInline","width","height","style","display","length","map","det","i","class","conf","toFixed","_c","$RefreshReg$"],"sources":["D:/projects/BE MAJOR PROJECT Krutik/client/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\n\nfunction App() {\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [detections, setDetections] = useState([]);\n\n  useEffect(() => {\n    // Start webcam\n    navigator.mediaDevices.getUserMedia({ video: true }).then((stream) => {\n      videoRef.current.srcObject = stream;\n    });\n\n    const interval = setInterval(async () => {\n      if (!videoRef.current || !canvasRef.current) return;\n\n      const ctx = canvasRef.current.getContext(\"2d\");\n      ctx.drawImage(videoRef.current, 0, 0, 640, 480);\n\n      canvasRef.current.toBlob(async (blob) => {\n        if (!blob) return;\n        console.log(\"Sending frame size:\", blob.size); // debug\n\n        const formData = new FormData();\n        formData.append(\"file\", blob, \"frame.jpg\");\n\n        try {\n          const res = await fetch(\"http://localhost:7001/detect\", {\n            method: \"POST\",\n            body: formData,\n          });\n          const data = await res.json();\n          setDetections(data.detections || []);\n        } catch (err) {\n          console.error(\"Error sending frame:\", err);\n        }\n      }, \"image/jpeg\", 0.7);\n    }, 500); // every 500ms\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div className=\"p-4\">\n      <h1 className=\"text-xl font-bold mb-2\">ðŸ“¡ Real-Time Object Detection</h1>\n\n      {/* Webcam */}\n      <video\n        ref={videoRef}\n        autoPlay\n        playsInline\n        width=\"640\"\n        height=\"480\"\n        className=\"border rounded mb-4\"\n      />\n\n      {/* Hidden canvas */}\n      <canvas\n        ref={canvasRef}\n        width=\"640\"\n        height=\"480\"\n        style={{ display: \"none\" }}\n      />\n\n      {/* Detection results */}\n      <div>\n        {detections.length > 0 ? (\n          detections.map((det, i) => (\n            <div key={i} className=\"p-2 border rounded mb-2 bg-gray-100\">\n              <strong>{det.class}</strong> (conf:{\" \"}\n              {det.conf.toFixed(2)})\n            </div>\n          ))\n        ) : (\n          <p>No objects detected</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}