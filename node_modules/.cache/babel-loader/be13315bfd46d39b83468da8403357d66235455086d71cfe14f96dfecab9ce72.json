{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\BE MAJOR PROJECT Krutik\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// App.js\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { io } from \"socket.io-client\";\n\n// small CSS-in-JS\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst styles = {\n  page: {\n    fontFamily: \"Inter, Arial, sans-serif\",\n    background: \"#0b1226\",\n    minHeight: \"100vh\",\n    color: \"#e6eef8\",\n    padding: 20\n  },\n  container: {\n    maxWidth: 1100,\n    margin: \"0 auto\",\n    display: \"grid\",\n    gridTemplateColumns: \"360px 1fr 360px\",\n    gap: 20\n  },\n  panel: {\n    background: \"#0f1724\",\n    borderRadius: 12,\n    padding: 16,\n    boxShadow: \"0 6px 20px rgba(2,6,23,0.6)\"\n  },\n  header: {\n    fontSize: 18,\n    fontWeight: 700,\n    marginBottom: 12\n  },\n  small: {\n    fontSize: 13,\n    color: \"#9fb0d6\"\n  },\n  videoBox: {\n    position: \"relative\",\n    width: 640,\n    height: 480,\n    borderRadius: 8,\n    overflow: \"hidden\",\n    background: \"#000\"\n  },\n  canvasOverlay: {\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    pointerEvents: \"none\"\n  },\n  input: {\n    width: \"100%\",\n    padding: \"10px 12px\",\n    borderRadius: 8,\n    border: \"1px solid #23314a\",\n    background: \"#071126\",\n    color: \"#e6eef8\"\n  },\n  button: {\n    padding: \"10px 14px\",\n    borderRadius: 8,\n    background: \"#06b6d4\",\n    color: \"#022\"\n  },\n  smallBtn: {\n    padding: \"8px 10px\",\n    borderRadius: 8,\n    background: \"#1f6f9b\",\n    color: \"#e6eef8\"\n  },\n  messageBubble: mine => ({\n    background: mine ? \"#0ea5a4\" : \"#11203a\",\n    color: mine ? \"#041014\" : \"#e6eef8\",\n    padding: \"8px 12px\",\n    borderRadius: 12,\n    maxWidth: \"80%\",\n    marginBottom: 8,\n    alignSelf: mine ? \"flex-end\" : \"flex-start\"\n  })\n};\n\n// Socket.IO server for user messages\nconst sio = io(\"http://localhost:5000\");\nfunction b64ToArrayBuffer(b64) {\n  const binary = atob(b64);\n  const len = binary.length;\n  const bytes = new Uint8Array(len);\n  for (let i = 0; i < len; i++) bytes[i] = binary.charCodeAt(i);\n  return bytes.buffer;\n}\nfunction arrayBufferToBase64(buf) {\n  const bytes = new Uint8Array(buf);\n  let bin = \"\";\n  for (let i = 0; i < bytes.byteLength; i++) bin += String.fromCharCode(bytes[i]);\n  return btoa(bin);\n}\n\n// AES-GCM helpers using SubtleCrypto\nasync function importKeyFromBase64(b64) {\n  const raw = b64ToArrayBuffer(b64);\n  return window.crypto.subtle.importKey(\"raw\", raw, \"AES-GCM\", false, [\"encrypt\", \"decrypt\"]);\n}\nasync function encryptWithKeyBase64(keyB64, text) {\n  const key = await importKeyFromBase64(keyB64);\n  const iv = window.crypto.getRandomValues(new Uint8Array(12));\n  const enc = new TextEncoder().encode(text);\n  const ct = await window.crypto.subtle.encrypt({\n    name: \"AES-GCM\",\n    iv\n  }, key, enc);\n  return {\n    ciphertext: arrayBufferToBase64(ct),\n    iv: arrayBufferToBase64(iv.buffer)\n  };\n}\nasync function decryptWithKeyBase64(keyB64, ciphertextB64, ivB64) {\n  const key = await importKeyFromBase64(keyB64);\n  const ivBuf = b64ToArrayBuffer(ivB64);\n  const ctBuf = b64ToArrayBuffer(ciphertextB64);\n  const plainBuf = await window.crypto.subtle.decrypt({\n    name: \"AES-GCM\",\n    iv: new Uint8Array(ivBuf)\n  }, key, ctBuf);\n  return new TextDecoder().decode(plainBuf);\n}\nexport default function App() {\n  _s();\n  const videoRef = useRef(null);\n  const overlayRef = useRef(null);\n  const [connected, setConnected] = useState(false);\n\n  // user state\n  const [username, setUsername] = useState(\"\");\n  const [peer, setPeer] = useState(\"\");\n\n  // detection + keys\n  const [detections, setDetections] = useState([]); // array of {object_id,bbox,class,conf}\n  const [objectKeys, setObjectKeys] = useState({}); // object_id -> base64 key\n\n  // chat state\n  const [selectedObject, setSelectedObject] = useState(null);\n  const [chatInput, setChatInput] = useState(\"\");\n  const [chats, setChats] = useState({}); // object_id -> [{id, sender, ciphertext, iv, plaintext?, ts}]\n\n  // connections\n  const detectWSRef = useRef(null);\n  useEffect(() => {\n    sio.on(\"connect\", () => {\n      console.log(\"Socket.IO connected\");\n      setConnected(true);\n    });\n    sio.on(\"disconnect\", () => setConnected(false));\n    sio.on(\"message\", async msg => {\n      // msg: { sender, receiver, object_id, text_enc: {ciphertext, iv}, ts }\n      // decrypt if we have key\n      const {\n        object_id,\n        text_enc\n      } = msg;\n      const keyB64 = objectKeys[object_id];\n      let plaintext = \"[encrypted]\";\n      if (keyB64 && text_enc) {\n        try {\n          plaintext = await decryptWithKeyBase64(keyB64, text_enc.ciphertext, text_enc.iv);\n        } catch (e) {\n          plaintext = \"[decrypt_failed]\";\n        }\n      }\n      setChats(prev => {\n        const arr = prev[object_id] ? [...prev[object_id]] : [];\n        arr.push({\n          id: msg.ts || Date.now(),\n          sender: msg.sender,\n          text_enc: text_enc,\n          plaintext,\n          ts: msg.ts\n        });\n        return {\n          ...prev,\n          [object_id]: arr\n        };\n      });\n    });\n    return () => {\n      sio.off(\"connect\");\n      sio.off(\"disconnect\");\n      sio.off(\"message\");\n    };\n    // eslint-disable-next-line\n  }, [objectKeys]);\n\n  // connect to CV service WebSocket to receive detection_broadcast\n  useEffect(() => {\n    const ws = new WebSocket(\"ws://localhost:7001/ws\");\n    detectWSRef.current = ws;\n    ws.onopen = () => console.log(\"CV WS connected\");\n    ws.onmessage = evt => {\n      try {\n        const data = JSON.parse(evt.data);\n        if (data.type === \"detection_broadcast\") {\n          // update detections and keys\n          setDetections(data.detections || []);\n          if (data.keys) {\n            setObjectKeys(prev => ({\n              ...prev,\n              ...data.keys\n            }));\n          }\n        }\n      } catch (e) {\n        console.warn(\"Malformed WS data\", e);\n      }\n    };\n    ws.onclose = () => console.log(\"CV WS closed\");\n    return () => ws.close();\n  }, []);\n\n  // camera capture & frame send (POST /detect)\n  useEffect(() => {\n    let interval = null;\n    let mounted = true;\n    const startCam = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: true\n        });\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          await videoRef.current.play();\n          // send frames at low FPS so backend can handle (1 FPS recommended for CPU)\n          const FPS = 1; // increase only if you have good GPU\n          interval = setInterval(async () => {\n            if (!mounted) return;\n            if (!videoRef.current) return;\n            const canvas = document.createElement(\"canvas\");\n            const sendW = 320,\n              sendH = 240;\n            canvas.width = sendW;\n            canvas.height = sendH;\n            const ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(videoRef.current, 0, 0, sendW, sendH);\n            canvas.toBlob(async blob => {\n              if (!blob) return;\n              const fd = new FormData();\n              fd.append(\"file\", blob, \"frame.jpg\");\n              try {\n                await fetch(\"http://localhost:7001/detect\", {\n                  method: \"POST\",\n                  body: fd\n                });\n                // server will broadcast detection_broadcast via WS\n              } catch (e) {\n                console.warn(\"frame send failed\", e);\n              }\n            }, \"image/jpeg\", 0.7);\n          }, 1000 / FPS);\n        }\n      } catch (e) {\n        console.error(\"camera failed\", e);\n      }\n    };\n    startCam();\n    return () => {\n      mounted = false;\n      if (interval) clearInterval(interval);\n      if (videoRef.current && videoRef.current.srcObject) {\n        const tracks = videoRef.current.srcObject.getTracks();\n        tracks.forEach(t => t.stop());\n      }\n    };\n  }, []);\n\n  // draw overlay boxes & chat bubbles\n  useEffect(() => {\n    const canvas = overlayRef.current;\n    const video = videoRef.current;\n    if (!canvas || !video) return;\n    const ctx = canvas.getContext(\"2d\");\n    let raf;\n    const render = () => {\n      const w = canvas.width = video.clientWidth || 640;\n      const h = canvas.height = video.clientHeight || 480;\n      ctx.clearRect(0, 0, w, h);\n\n      // detections are relative to 320x240 send size\n      const srcW = 320,\n        srcH = 240;\n      const scaleX = w / srcW,\n        scaleY = h / srcH;\n      for (const d of detections) {\n        const [x1, y1, x2, y2] = d.bbox;\n        const sx = x1 * scaleX,\n          sy = y1 * scaleY,\n          sw = (x2 - x1) * scaleX,\n          sh = (y2 - y1) * scaleY;\n        ctx.lineWidth = selectedObject === d.object_id ? 3 : 2;\n        ctx.strokeStyle = selectedObject === d.object_id ? \"#06b6d4\" : \"#ffd166\";\n        ctx.strokeRect(sx, sy, sw, sh);\n        ctx.fillStyle = ctx.strokeStyle;\n        ctx.font = \"14px Inter, Arial\";\n        ctx.fillText(`${d.class} ${(d.conf * 100).toFixed(0)}%`, sx + 6, sy + 18);\n\n        // show two latest chat messages as bubbles\n        const msgs = chats[d.object_id] || [];\n        const latest = msgs.slice(-2);\n        latest.forEach((m, idx) => {\n          const text = m.plaintext || \"[encrypted]\";\n          const tx = sx,\n            ty = sy + sh + 18 + idx * 20;\n          ctx.fillStyle = \"rgba(2,6,23,0.85)\";\n          const width = Math.min(260, ctx.measureText(text).width + 16);\n          ctx.fillRect(tx, ty - 14, width, 18);\n          ctx.fillStyle = \"#e6eef8\";\n          ctx.fillText(text, tx + 8, ty);\n        });\n      }\n      raf = requestAnimationFrame(render);\n    };\n    raf = requestAnimationFrame(render);\n    return () => cancelAnimationFrame(raf);\n  }, [detections, chats, selectedObject]);\n\n  // click handler on video to pick object\n  const handleVideoClick = e => {\n    const rect = e.target.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const srcW = 320,\n      srcH = 240;\n    const scaleX = srcW / rect.width,\n      scaleY = srcH / rect.height;\n    const rx = x * scaleX,\n      ry = y * scaleY;\n    let picked = null;\n    for (const d of detections) {\n      const [x1, y1, x2, y2] = d.bbox;\n      if (rx >= x1 && rx <= x2 && ry >= y1 && ry <= y2) {\n        picked = d.object_id;\n        break;\n      }\n    }\n    setSelectedObject(picked);\n  };\n\n  // register username on Socket.IO\n  useEffect(() => {\n    if (username) {\n      sio.emit(\"register\", username);\n    }\n  }, [username]);\n\n  // send encrypted message to peer via Socket.IO\n  const handleSendChat = async () => {\n    if (!username || !peer || !selectedObject || !chatInput) return alert(\"Fill username, peer, select object & type message.\");\n    const keyB64 = objectKeys[selectedObject];\n    if (!keyB64) return alert(\"No key for selected object yet (wait one frame).\");\n    try {\n      const enc = await encryptWithKeyBase64(keyB64, chatInput);\n      const payload = {\n        sender: username,\n        receiver: peer,\n        object_id: selectedObject,\n        text_enc: enc,\n        ts: Date.now()\n      };\n      sio.emit(\"message\", payload);\n      // also locally add message (optimistic)\n      setChats(prev => {\n        const arr = prev[selectedObject] ? [...prev[selectedObject]] : [];\n        arr.push({\n          id: \"local-\" + Date.now(),\n          sender: username,\n          plaintext: chatInput,\n          text_enc: enc,\n          ts: Date.now()\n        });\n        return {\n          ...prev,\n          [selectedObject]: arr\n        };\n      });\n      setChatInput(\"\");\n    } catch (e) {\n      console.error(\"encrypt/send failed\", e);\n      alert(\"Failed to send message.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.page,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 1200,\n        margin: \"0 auto 24px\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: \"#dbeafe\",\n          margin: 0\n        },\n        children: \"ObjectChat \\u2014 AR Object Messaging\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"#94a3b8\"\n        },\n        children: \"Realtime \\u2022 Encrypted (demo keys) \\u2022 Click an object to chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.panel,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.header,\n          children: \"Session\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.small,\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            ...styles.input,\n            marginTop: 8\n          },\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          placeholder: \"your name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: 12\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.small,\n          children: \"Peer (who to message)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: styles.input,\n          value: peer,\n          onChange: e => setPeer(e.target.value),\n          placeholder: \"peer username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: 18\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.small,\n          children: \"Selected Object\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8,\n            padding: 10,\n            background: \"#071226\",\n            borderRadius: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 700\n            },\n            children: selectedObject || \"No object selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"#7f9bb3\",\n              marginTop: 6\n            },\n            children: [detections.length, \" objects in view\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: 18\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.small,\n          children: \"Send Encrypted Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: chatInput,\n          onChange: e => setChatInput(e.target.value),\n          placeholder: \"Type message...\",\n          rows: 4,\n          style: {\n            ...styles.input,\n            resize: \"vertical\",\n            minHeight: 80\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 8,\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.button,\n            onClick: handleSendChat,\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.smallBtn,\n            onClick: () => {\n              setChatInput(\"\");\n            },\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: 18\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 12,\n            color: \"#8fa6ca\"\n          },\n          children: \"Keys (demo)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8,\n            maxHeight: 160,\n            overflowY: \"auto\",\n            background: \"#071425\",\n            padding: 8,\n            borderRadius: 8\n          },\n          children: [Object.keys(objectKeys).length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"#5f7f9f\"\n            },\n            children: \"No keys yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 52\n          }, this), Object.entries(objectKeys).map(([id, k]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 12,\n              marginBottom: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: \"#a7c7e7\",\n                fontWeight: 700\n              },\n              children: id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: \"#7f9bb3\",\n                wordBreak: \"break-all\"\n              },\n              children: [k.slice(0, 48), k.length > 48 ? \"...\" : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this)]\n          }, id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...styles.panel,\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            width: \"100%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 700\n            },\n            children: \"Live Camera\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"#7f9bb3\"\n            },\n            children: [\"Socket.IO: \", connected ? \"connected\" : \"disconnected\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: 12\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.videoBox,\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: videoRef,\n            width: \"100%\",\n            height: \"100%\",\n            style: {\n              objectFit: \"cover\"\n            },\n            onClick: handleVideoClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: overlayRef,\n            style: styles.canvasOverlay,\n            width: 640,\n            height: 480\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: 12\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.smallBtn,\n            onClick: () => {\n              /* start camera is automatic on mount */alert(\"Camera starts automatically (allow permissions).\");\n            },\n            children: \"Camera\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.smallBtn,\n            onClick: () => {\n              setDetections([]);\n              setChats({});\n              setObjectKeys({});\n              setSelectedObject(null);\n            },\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.panel,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.header,\n          children: \"Chat \\u2014 Object\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.small,\n          children: \"Selected object messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12,\n            maxHeight: 360,\n            overflowY: \"auto\",\n            display: \"flex\",\n            flexDirection: \"column\"\n          },\n          children: selectedObject && chats[selectedObject] ? chats[selectedObject].map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: m.sender === username ? \"flex-end\" : \"flex-start\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.messageBubble(m.sender === username),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 12,\n                  opacity: 0.9\n                },\n                children: m.plaintext || \"[encrypted]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 11,\n                  opacity: 0.6,\n                  marginTop: 6\n                },\n                children: [m.sender, \" \\u2022 \", new Date(m.ts || Date.now()).toLocaleTimeString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 19\n            }, this)\n          }, m.id || i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"#6f8daa\"\n            },\n            children: \"Select an object in the video to see its messages.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 295,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"FC5sROKqr2Th7Wy1OSvxT0xm7tc=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","io","jsxDEV","_jsxDEV","styles","page","fontFamily","background","minHeight","color","padding","container","maxWidth","margin","display","gridTemplateColumns","gap","panel","borderRadius","boxShadow","header","fontSize","fontWeight","marginBottom","small","videoBox","position","width","height","overflow","canvasOverlay","left","top","pointerEvents","input","border","button","smallBtn","messageBubble","mine","alignSelf","sio","b64ToArrayBuffer","b64","binary","atob","len","length","bytes","Uint8Array","i","charCodeAt","buffer","arrayBufferToBase64","buf","bin","byteLength","String","fromCharCode","btoa","importKeyFromBase64","raw","window","crypto","subtle","importKey","encryptWithKeyBase64","keyB64","text","key","iv","getRandomValues","enc","TextEncoder","encode","ct","encrypt","name","ciphertext","decryptWithKeyBase64","ciphertextB64","ivB64","ivBuf","ctBuf","plainBuf","decrypt","TextDecoder","decode","App","_s","videoRef","overlayRef","connected","setConnected","username","setUsername","peer","setPeer","detections","setDetections","objectKeys","setObjectKeys","selectedObject","setSelectedObject","chatInput","setChatInput","chats","setChats","detectWSRef","on","console","log","msg","object_id","text_enc","plaintext","e","prev","arr","push","id","ts","Date","now","sender","off","ws","WebSocket","current","onopen","onmessage","evt","data","JSON","parse","type","keys","warn","onclose","close","interval","mounted","startCam","stream","navigator","mediaDevices","getUserMedia","video","srcObject","play","FPS","setInterval","canvas","document","createElement","sendW","sendH","ctx","getContext","drawImage","toBlob","blob","fd","FormData","append","fetch","method","body","error","clearInterval","tracks","getTracks","forEach","t","stop","raf","render","w","clientWidth","h","clientHeight","clearRect","srcW","srcH","scaleX","scaleY","d","x1","y1","x2","y2","bbox","sx","sy","sw","sh","lineWidth","strokeStyle","strokeRect","fillStyle","font","fillText","class","conf","toFixed","msgs","latest","slice","m","idx","tx","ty","Math","min","measureText","fillRect","requestAnimationFrame","cancelAnimationFrame","handleVideoClick","rect","target","getBoundingClientRect","x","clientX","y","clientY","rx","ry","picked","emit","handleSendChat","alert","payload","receiver","style","children","justifyContent","alignItems","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","value","onChange","placeholder","rows","resize","onClick","maxHeight","overflowY","Object","entries","map","k","wordBreak","flexDirection","ref","objectFit","opacity","toLocaleTimeString","_c","$RefreshReg$"],"sources":["D:/projects/BE MAJOR PROJECT Krutik/client/src/App.js"],"sourcesContent":["// App.js\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { io } from \"socket.io-client\";\n\n// small CSS-in-JS\nconst styles = {\n  page: { fontFamily: \"Inter, Arial, sans-serif\", background: \"#0b1226\", minHeight: \"100vh\", color: \"#e6eef8\", padding: 20 },\n  container: { maxWidth: 1100, margin: \"0 auto\", display: \"grid\", gridTemplateColumns: \"360px 1fr 360px\", gap: 20 },\n  panel: { background: \"#0f1724\", borderRadius: 12, padding: 16, boxShadow: \"0 6px 20px rgba(2,6,23,0.6)\" },\n  header: { fontSize: 18, fontWeight: 700, marginBottom: 12 },\n  small: { fontSize: 13, color: \"#9fb0d6\" },\n  videoBox: { position: \"relative\", width: 640, height: 480, borderRadius: 8, overflow: \"hidden\", background: \"#000\" },\n  canvasOverlay: { position: \"absolute\", left: 0, top: 0, pointerEvents: \"none\" },\n  input: { width: \"100%\", padding: \"10px 12px\", borderRadius: 8, border: \"1px solid #23314a\", background: \"#071126\", color: \"#e6eef8\" },\n  button: { padding: \"10px 14px\", borderRadius: 8, background: \"#06b6d4\", color: \"#022\" },\n  smallBtn: { padding: \"8px 10px\", borderRadius: 8, background: \"#1f6f9b\", color: \"#e6eef8\" },\n  messageBubble: (mine) => ({\n    background: mine ? \"#0ea5a4\" : \"#11203a\",\n    color: mine ? \"#041014\" : \"#e6eef8\",\n    padding: \"8px 12px\",\n    borderRadius: 12,\n    maxWidth: \"80%\",\n    marginBottom: 8,\n    alignSelf: mine ? \"flex-end\" : \"flex-start\",\n  }),\n};\n\n// Socket.IO server for user messages\nconst sio = io(\"http://localhost:5000\");\n\nfunction b64ToArrayBuffer(b64) {\n  const binary = atob(b64);\n  const len = binary.length;\n  const bytes = new Uint8Array(len);\n  for (let i = 0; i < len; i++) bytes[i] = binary.charCodeAt(i);\n  return bytes.buffer;\n}\nfunction arrayBufferToBase64(buf) {\n  const bytes = new Uint8Array(buf);\n  let bin = \"\";\n  for (let i = 0; i < bytes.byteLength; i++) bin += String.fromCharCode(bytes[i]);\n  return btoa(bin);\n}\n\n// AES-GCM helpers using SubtleCrypto\nasync function importKeyFromBase64(b64) {\n  const raw = b64ToArrayBuffer(b64);\n  return window.crypto.subtle.importKey(\"raw\", raw, \"AES-GCM\", false, [\"encrypt\", \"decrypt\"]);\n}\nasync function encryptWithKeyBase64(keyB64, text) {\n  const key = await importKeyFromBase64(keyB64);\n  const iv = window.crypto.getRandomValues(new Uint8Array(12));\n  const enc = new TextEncoder().encode(text);\n  const ct = await window.crypto.subtle.encrypt({ name: \"AES-GCM\", iv }, key, enc);\n  return { ciphertext: arrayBufferToBase64(ct), iv: arrayBufferToBase64(iv.buffer) };\n}\nasync function decryptWithKeyBase64(keyB64, ciphertextB64, ivB64) {\n  const key = await importKeyFromBase64(keyB64);\n  const ivBuf = b64ToArrayBuffer(ivB64);\n  const ctBuf = b64ToArrayBuffer(ciphertextB64);\n  const plainBuf = await window.crypto.subtle.decrypt({ name: \"AES-GCM\", iv: new Uint8Array(ivBuf) }, key, ctBuf);\n  return new TextDecoder().decode(plainBuf);\n}\n\nexport default function App() {\n  const videoRef = useRef(null);\n  const overlayRef = useRef(null);\n  const [connected, setConnected] = useState(false);\n\n  // user state\n  const [username, setUsername] = useState(\"\");\n  const [peer, setPeer] = useState(\"\");\n\n  // detection + keys\n  const [detections, setDetections] = useState([]); // array of {object_id,bbox,class,conf}\n  const [objectKeys, setObjectKeys] = useState({});  // object_id -> base64 key\n\n  // chat state\n  const [selectedObject, setSelectedObject] = useState(null);\n  const [chatInput, setChatInput] = useState(\"\");\n  const [chats, setChats] = useState({}); // object_id -> [{id, sender, ciphertext, iv, plaintext?, ts}]\n\n  // connections\n  const detectWSRef = useRef(null);\n\n  useEffect(() => {\n    sio.on(\"connect\", () => {\n      console.log(\"Socket.IO connected\");\n      setConnected(true);\n    });\n    sio.on(\"disconnect\", () => setConnected(false));\n    sio.on(\"message\", async (msg) => {\n      // msg: { sender, receiver, object_id, text_enc: {ciphertext, iv}, ts }\n      // decrypt if we have key\n      const { object_id, text_enc } = msg;\n      const keyB64 = objectKeys[object_id];\n      let plaintext = \"[encrypted]\";\n      if (keyB64 && text_enc) {\n        try {\n          plaintext = await decryptWithKeyBase64(keyB64, text_enc.ciphertext, text_enc.iv);\n        } catch (e) {\n          plaintext = \"[decrypt_failed]\";\n        }\n      }\n      setChats(prev => {\n        const arr = prev[object_id] ? [...prev[object_id]] : [];\n        arr.push({ id: msg.ts || Date.now(), sender: msg.sender, text_enc: text_enc, plaintext, ts: msg.ts });\n        return { ...prev, [object_id]: arr };\n      });\n    });\n\n    return () => {\n      sio.off(\"connect\");\n      sio.off(\"disconnect\");\n      sio.off(\"message\");\n    };\n    // eslint-disable-next-line\n  }, [objectKeys]);\n\n  // connect to CV service WebSocket to receive detection_broadcast\n  useEffect(() => {\n    const ws = new WebSocket(\"ws://localhost:7001/ws\");\n    detectWSRef.current = ws;\n    ws.onopen = () => console.log(\"CV WS connected\");\n    ws.onmessage = (evt) => {\n      try {\n        const data = JSON.parse(evt.data);\n        if (data.type === \"detection_broadcast\") {\n          // update detections and keys\n          setDetections(data.detections || []);\n          if (data.keys) {\n            setObjectKeys(prev => ({ ...prev, ...data.keys }));\n          }\n        }\n      } catch (e) {\n        console.warn(\"Malformed WS data\", e);\n      }\n    };\n    ws.onclose = () => console.log(\"CV WS closed\");\n    return () => ws.close();\n  }, []);\n\n  // camera capture & frame send (POST /detect)\n  useEffect(() => {\n    let interval = null;\n    let mounted = true;\n\n    const startCam = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          await videoRef.current.play();\n          // send frames at low FPS so backend can handle (1 FPS recommended for CPU)\n          const FPS = 1; // increase only if you have good GPU\n          interval = setInterval(async () => {\n            if (!mounted) return;\n            if (!videoRef.current) return;\n            const canvas = document.createElement(\"canvas\");\n            const sendW = 320, sendH = 240;\n            canvas.width = sendW; canvas.height = sendH;\n            const ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(videoRef.current, 0, 0, sendW, sendH);\n            canvas.toBlob(async (blob) => {\n              if (!blob) return;\n              const fd = new FormData();\n              fd.append(\"file\", blob, \"frame.jpg\");\n              try {\n                await fetch(\"http://localhost:7001/detect\", { method: \"POST\", body: fd });\n                // server will broadcast detection_broadcast via WS\n              } catch (e) {\n                console.warn(\"frame send failed\", e);\n              }\n            }, \"image/jpeg\", 0.7);\n          }, 1000 / FPS);\n        }\n      } catch (e) {\n        console.error(\"camera failed\", e);\n      }\n    };\n\n    startCam();\n    return () => {\n      mounted = false;\n      if (interval) clearInterval(interval);\n      if (videoRef.current && videoRef.current.srcObject) {\n        const tracks = videoRef.current.srcObject.getTracks();\n        tracks.forEach(t => t.stop());\n      }\n    };\n  }, []);\n\n  // draw overlay boxes & chat bubbles\n  useEffect(() => {\n    const canvas = overlayRef.current;\n    const video = videoRef.current;\n    if (!canvas || !video) return;\n    const ctx = canvas.getContext(\"2d\");\n\n    let raf;\n    const render = () => {\n      const w = canvas.width = video.clientWidth || 640;\n      const h = canvas.height = video.clientHeight || 480;\n      ctx.clearRect(0,0,w,h);\n\n      // detections are relative to 320x240 send size\n      const srcW = 320, srcH = 240;\n      const scaleX = w / srcW, scaleY = h / srcH;\n\n      for (const d of detections) {\n        const [x1,y1,x2,y2] = d.bbox;\n        const sx = x1 * scaleX, sy = y1 * scaleY, sw = (x2-x1) * scaleX, sh = (y2-y1) * scaleY;\n        ctx.lineWidth = selectedObject === d.object_id ? 3 : 2;\n        ctx.strokeStyle = selectedObject === d.object_id ? \"#06b6d4\" : \"#ffd166\";\n        ctx.strokeRect(sx, sy, sw, sh);\n        ctx.fillStyle = ctx.strokeStyle;\n        ctx.font = \"14px Inter, Arial\";\n        ctx.fillText(`${d.class} ${(d.conf*100).toFixed(0)}%`, sx + 6, sy + 18);\n\n        // show two latest chat messages as bubbles\n        const msgs = chats[d.object_id] || [];\n        const latest = msgs.slice(-2);\n        latest.forEach((m, idx) => {\n          const text = m.plaintext || \"[encrypted]\";\n          const tx = sx, ty = sy + sh + 18 + idx*20;\n          ctx.fillStyle = \"rgba(2,6,23,0.85)\";\n          const width = Math.min(260, ctx.measureText(text).width + 16);\n          ctx.fillRect(tx, ty - 14, width, 18);\n          ctx.fillStyle = \"#e6eef8\";\n          ctx.fillText(text, tx + 8, ty);\n        });\n      }\n      raf = requestAnimationFrame(render);\n    };\n    raf = requestAnimationFrame(render);\n    return () => cancelAnimationFrame(raf);\n  }, [detections, chats, selectedObject]);\n\n  // click handler on video to pick object\n  const handleVideoClick = (e) => {\n    const rect = e.target.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const srcW = 320, srcH = 240;\n    const scaleX = srcW / rect.width, scaleY = srcH / rect.height;\n    const rx = x * scaleX, ry = y * scaleY;\n    let picked = null;\n    for (const d of detections) {\n      const [x1,y1,x2,y2] = d.bbox;\n      if (rx >= x1 && rx <= x2 && ry >= y1 && ry <= y2) {\n        picked = d.object_id;\n        break;\n      }\n    }\n    setSelectedObject(picked);\n  };\n\n  // register username on Socket.IO\n  useEffect(() => {\n    if (username) {\n      sio.emit(\"register\", username);\n    }\n  }, [username]);\n\n  // send encrypted message to peer via Socket.IO\n  const handleSendChat = async () => {\n    if (!username || !peer || !selectedObject || !chatInput) return alert(\"Fill username, peer, select object & type message.\");\n    const keyB64 = objectKeys[selectedObject];\n    if (!keyB64) return alert(\"No key for selected object yet (wait one frame).\");\n\n    try {\n      const enc = await encryptWithKeyBase64(keyB64, chatInput);\n      const payload = {\n        sender: username,\n        receiver: peer,\n        object_id: selectedObject,\n        text_enc: enc,\n        ts: Date.now()\n      };\n      sio.emit(\"message\", payload);\n      // also locally add message (optimistic)\n      setChats(prev => {\n        const arr = prev[selectedObject] ? [...prev[selectedObject]] : [];\n        arr.push({ id: \"local-\"+Date.now(), sender: username, plaintext: chatInput, text_enc: enc, ts: Date.now() });\n        return { ...prev, [selectedObject]: arr };\n      });\n      setChatInput(\"\");\n    } catch (e) {\n      console.error(\"encrypt/send failed\", e);\n      alert(\"Failed to send message.\");\n    }\n  };\n\n  return (\n    <div style={styles.page}>\n      <div style={{ maxWidth: 1200, margin: \"0 auto 24px\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n        <h2 style={{ color: \"#dbeafe\", margin: 0 }}>ObjectChat — AR Object Messaging</h2>\n        <div style={{ color: \"#94a3b8\" }}>Realtime • Encrypted (demo keys) • Click an object to chat</div>\n      </div>\n\n      <div style={styles.container}>\n        {/* Left: user controls */}\n        <div style={styles.panel}>\n          <div style={styles.header}>Session</div>\n          <div style={styles.small}>Username</div>\n          <input style={{...styles.input, marginTop:8}} value={username} onChange={e=>setUsername(e.target.value)} placeholder=\"your name\" />\n          <div style={{height:12}} />\n          <div style={styles.small}>Peer (who to message)</div>\n          <input style={styles.input} value={peer} onChange={e=>setPeer(e.target.value)} placeholder=\"peer username\" />\n\n          <div style={{height:18}} />\n          <div style={styles.small}>Selected Object</div>\n          <div style={{ marginTop:8, padding:10, background:\"#071226\", borderRadius:8 }}>\n            <div style={{ fontWeight:700 }}>{selectedObject || \"No object selected\"}</div>\n            <div style={{ color:\"#7f9bb3\", marginTop:6 }}>{ detections.length } objects in view</div>\n          </div>\n\n          <div style={{height:18}} />\n          <div style={styles.small}>Send Encrypted Chat</div>\n          <textarea value={chatInput} onChange={e=>setChatInput(e.target.value)} placeholder=\"Type message...\" rows={4}\n            style={{...styles.input, resize:\"vertical\", minHeight:80}} />\n          <div style={{ display:\"flex\", gap:8, marginTop:8 }}>\n            <button style={styles.button} onClick={handleSendChat}>Send</button>\n            <button style={styles.smallBtn} onClick={()=>{ setChatInput(\"\"); }}>Clear</button>\n          </div>\n\n          <div style={{height:18}} />\n          <div style={{fontSize:12, color:\"#8fa6ca\"}}>Keys (demo)</div>\n          <div style={{ marginTop:8, maxHeight:160, overflowY:\"auto\", background:\"#071425\", padding:8, borderRadius:8 }}>\n            {Object.keys(objectKeys).length===0 && <div style={{color:\"#5f7f9f\"}}>No keys yet</div>}\n            {Object.entries(objectKeys).map(([id,k])=>(\n              <div key={id} style={{fontSize:12, marginBottom:8}}>\n                <div style={{color:\"#a7c7e7\", fontWeight:700}}>{id}</div>\n                <div style={{color:\"#7f9bb3\", wordBreak:\"break-all\"}}>{k.slice(0,48)}{k.length>48?\"...\":\"\"}</div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* center: video + overlay */}\n        <div style={{ ...styles.panel, display:\"flex\", flexDirection:\"column\", alignItems:\"center\" }}>\n          <div style={{ display:\"flex\", alignItems:\"center\", justifyContent:\"space-between\", width:\"100%\" }}>\n            <div style={{ fontWeight:700 }}>Live Camera</div>\n            <div style={{ color:\"#7f9bb3\"}}>Socket.IO: {connected ? \"connected\" : \"disconnected\" }</div>\n          </div>\n\n          <div style={{ height:12 }} />\n          <div style={styles.videoBox}>\n            <video ref={videoRef} width=\"100%\" height=\"100%\" style={{objectFit:\"cover\"}} onClick={handleVideoClick} />\n            <canvas ref={overlayRef} style={styles.canvasOverlay} width={640} height={480} />\n          </div>\n\n          <div style={{ height:12 }} />\n          <div style={{ display:\"flex\", gap:10 }}>\n            <button style={styles.smallBtn} onClick={()=>{ /* start camera is automatic on mount */ alert(\"Camera starts automatically (allow permissions).\") }}>Camera</button>\n            <button style={styles.smallBtn} onClick={()=>{ setDetections([]); setChats({}); setObjectKeys({}); setSelectedObject(null); }}>Clear</button>\n          </div>\n        </div>\n\n        {/* right: chat history for selected object */}\n        <div style={styles.panel}>\n          <div style={styles.header}>Chat — Object</div>\n          <div style={styles.small}>Selected object messages</div>\n\n          <div style={{ marginTop:12, maxHeight:360, overflowY:\"auto\", display:\"flex\", flexDirection:\"column\" }}>\n            { selectedObject && chats[selectedObject] ? (\n              chats[selectedObject].map((m, i) => (\n                <div key={m.id || i} style={{ display:\"flex\", flexDirection:\"column\", alignItems: m.sender === username ? \"flex-end\" : \"flex-start\" }}>\n                  <div style={styles.messageBubble(m.sender===username)}>\n                    <div style={{ fontSize:12, opacity:0.9 }}>{ m.plaintext || \"[encrypted]\" }</div>\n                    <div style={{ fontSize:11, opacity:0.6, marginTop:6 }}>{ m.sender } • {new Date(m.ts||Date.now()).toLocaleTimeString()}</div>\n                  </div>\n                </div>\n              ))\n            ) : (\n              <div style={{ color:\"#6f8daa\" }}>Select an object in the video to see its messages.</div>\n            )}\n          </div>\n\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}